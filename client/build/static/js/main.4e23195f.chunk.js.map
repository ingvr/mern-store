{"version":3,"sources":["actions/categories.js","constants/index.js","actions/products.js","actions/users.js","components/hoc/modal-wrapper.js","utils/index.js","components/modals/create-category-modal.js","components/modals/create-product-modal.js","components/modals/edit-product-modal.js","containers/modals/create-category-modal.js","containers/modals/create-product-modal.js","containers/modals/edit-product-modal.js","components/logout-button/index.js","containers/logout-button/index.js","components/store-header/index.js","components/spinner/index.js","components/nav/index.js","containers/nav/index.js","components/pager/index.js","containers/pager/index.js","components/product-list/index.js","containers/product-list/index.js","components/store-footer/index.js","components/store/index.js","components/authorization/index.js","containers/authorization/index.js","components/error-indicator/index.js","components/app/index.js","containers/app/index.js","services/service-worker/serviceWorker.js","components/error-boundary/index.js","reducers/products.js","reducers/categories.js","reducers/users.js","reducers/index.js","store.js","index.js"],"names":["fetchCategories","payload","dispatch","type","categoriesRequested","apiUrl","concat","process","Axios","get","then","response","data","receivedAt","Date","now","catch","error","console","log","fetchProducts","_ref","arguments","length","undefined","_ref$categoryId","categoryId","_ref$page","page","getState","products","filteredProducts","currentPage","_ref2","_ref2$data","pages","productsResetCategory","interceptors","request","use","config","some","url","token","localStorage","getItem","headers","Authorization","Promise","reject","userGetInfo","post","_response$data$user","user","name","email","userLogin","userInfo","setItem","userToken","split","errorMessage","ModalWrapper","WrappedModal","_Component","_temp","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","visible","showModal","setState","hideModal","inherits","createClass","key","value","react_default","a","createElement","assign","props","Component","handleChange","e","target","defineProperty","validatePrice","values","isNaN","category","handleSubmit","preventDefault","_this$props","createCategory","assertThisInitialized","_this$props2","Fragment","es_button","onClick","icon","modal","title","onCancel","footer","es_form","onSubmit","Item","input","prefix","placeholder","onChange","required","htmlType","style","width","initialState","rowPrice","fullPrice","_this$state","notification","open","message","description","color","createProduct","categories","_this$state2","marginRight","lineHeight","map","_id","EditProductModal","productKey","editProduct","currentProduct","find","product","updateState","prevProps","prevState","_this$props3","defaultValue","connect","CreateCategoryModal","items","newProduct","CreateProductModal","put","productEdit","LogoutButton","logout","popconfirm","onConfirm","okText","cancelText","marginLeft","shape","removeItem","Header","Layout","StoreHeader","className","row","gutter","col","span","theme","textAlign","modals_create_product_modal","modals_create_category_modal","containers_logout_button","Spinner","Sider","Nav","loadCategories","deleteCategory","filterProducts","isLoading","menu","mode","defaultSelectedKeys","components_spinner","margin","categorytId","delete","_ref$data$data","Pager","handleChangePage","changePage","push","es_radio","Button","i","Group","Column","Table","ProductList","loadProducts","deleteProduct","table","dataSource","loading","pagination","rowKey","dataIndex","render","modals_edit_product_modal","divider","containers_pager","productId","Footer","StoreFooter","href","rel","Content","Store","components_store_header","layout","containers_nav","store_Content","containers_product_list","components_store_footer","password","login","test","String","toLowerCase","validateEmail","loginError","resetLoginError","Password","users","ErrorIndicator","src","alt","App","_this2","getUser","isLoggedIn","serverAvailable","components_error_indicator","components_store","containers_authorization","Boolean","window","location","hostname","match","ErrorBoundary","hasError","children","action","objectSpread","_action$payload","active","combineReducers","logger","createLogger","level","store","createStore","reducer","applyMiddleware","thunk","ReactDOM","es","error_boundary_ErrorBoundary","containers_app","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4e23195f.chunk.js","sourcesContent":["import Axios from \"axios\";\n\nimport { CATEGORY_API_URL } from \"../constants\";\nimport { productsResetCategory, fetchProducts } from \"./index\";\n\nexport const categoriesRequested = payload => {\n  return {\n    type: \"CATEGORIES_REQUESTED\",\n    payload\n  };\n};\n\nexport const categoriesReceived = payload => {\n  return {\n    type: \"CATEGORIES_RECEIVED\",\n    payload,\n    receivedAt: Date.now()\n  };\n};\n\nexport const fetchCategories = payload => {\n  return dispatch => {\n    dispatch(categoriesRequested(payload));\n\n    const apiUrl = `${CATEGORY_API_URL}/get/all`;\n    return Axios.get(apiUrl)\n      .then(response => {\n        dispatch(categoriesReceived(response.data.data));\n      })\n      .catch(error => {\n        console.log(\"Fetch categories failed: \", error);\n      });\n  };\n};\n\nexport const categoryAddSuccess = payload => {\n  return {\n    type: \"CATEGORY_ADD_SUCCESS\",\n    payload\n  };\n};\n\nexport const categoryAdd = title => {\n  return dispatch => {\n    const apiUrl = `${CATEGORY_API_URL}/add`;\n    return Axios.post(apiUrl, { title })\n      .then(response => {\n        dispatch(categoryAddSuccess(response.data.categories));\n      })\n      .catch(error => {\n        console.log(\"Category add dispatch failed: \", error);\n      });\n  };\n};\n\nexport const categoryDeleteSuccess = payload => {\n  return {\n    type: \"CATEGORY_DELETE_SUCCESS\",\n    payload\n  };\n};\n\nexport const categoryDelete = categorytId => {\n  return dispatch => {\n    const apiUrl = `${CATEGORY_API_URL}/delete`;\n    return Axios.delete(`${apiUrl}/${categorytId}`)\n      .then(({ data: { data: { categories, products } } }) => {\n        dispatch(categoryDeleteSuccess(categories));\n        dispatch(productsResetCategory(products));\n        dispatch(fetchProducts());\n      })\n      .catch(error => {\n        console.log(\"Category delete dispatch failed: \", error);\n      });\n  };\n};\n","export const CATEGORY_API_URL = process.env.REACT_APP_CATEGORY_API_URL;\nexport const PRODUCT_API_URL = process.env.REACT_APP_PRODUCT_API_URL;\nexport const USER_API_URL = process.env.REACT_APP_USER_API_URL;\n","import Axios from \"axios\";\n\nimport { PRODUCT_API_URL } from \"../constants\";\n\nexport const productsRequested = payload => {\n  return {\n    type: \"PRODUCTS_REQUESTED\",\n    payload\n  };\n};\n\nexport const productsReceived = payload => {\n  return {\n    type: \"PRODUCTS_RECEIVED\",\n    payload,\n    receivedAt: Date.now()\n  };\n};\n\nexport const fetchProducts = ({ categoryId = null, page = null } = {}) => {\n  return (dispatch, getState) => {\n    categoryId = !categoryId\n      ? getState().products.filteredProducts\n      : categoryId;\n    page = !page ? getState().products.currentPage : page;\n\n    dispatch(productsRequested({ categoryId, page }));\n    const apiUrl = `${PRODUCT_API_URL}/get/by-category/${categoryId}/${page}`;\n    return Axios.get(apiUrl)\n      .then(({ data: { products, pages } }) => {\n        dispatch(\n          productsReceived({\n            products,\n            pages,\n            filteredProducts: categoryId,\n            page\n          })\n        );\n      })\n      .catch(error => {\n        console.log(\"Product filter dispatch failed: \", error);\n      });\n  };\n};\n\nexport const productAddSuccess = () => {\n  return {\n    type: \"PRODUCT_ADD_SUCCESS\"\n  };\n};\n\nexport const productAdd = newProduct => {\n  return dispatch => {\n    const apiUrl = `${PRODUCT_API_URL}/add`;\n    return Axios.post(apiUrl, newProduct)\n      .then(response => {\n        dispatch(productAddSuccess());\n        dispatch(fetchProducts());\n      })\n      .catch(error => {\n        console.log(\"Product add dispatch failed: \", error);\n      });\n  };\n};\n\nexport const productDeleteSuccess = () => {\n  return {\n    type: \"PRODUCT_DELETE_SUCCESS\"\n  };\n};\n\nexport const productDelete = productId => {\n  return dispatch => {\n    const apiUrl = `${PRODUCT_API_URL}/delete`;\n    return Axios.delete(`${apiUrl}/${productId}`)\n      .then(response => {\n        dispatch(productDeleteSuccess());\n        dispatch(fetchProducts());\n      })\n      .catch(error => {\n        console.log(\"Product delete dispatch failed: \", error);\n      });\n  };\n};\n\nexport const productEditSuccess = () => {\n  return {\n    type: \"PRODUCT_EDIT_SUCCESS\"\n  };\n};\n\nexport const productEdit = product => {\n  return dispatch => {\n    const apiUrl = `${PRODUCT_API_URL}/update`;\n    return Axios.put(apiUrl, product)\n      .then(response => {\n        dispatch(productEditSuccess());\n        dispatch(fetchProducts());\n      })\n      .catch(error => {\n        console.log(\"Product edit dispatch failed: \", error);\n      });\n  };\n};\n\nexport const productsResetCategory = () => {\n  return {\n    type: \"PRODUCTS_RESET_CATEGORY\"\n  };\n};\n\nexport const productsChangePage = payload => {\n  return {\n    type: \"PRODUCTS_CHANGE_PAGE\",\n    payload\n  };\n};\n","import Axios from \"axios\";\n\nimport { USER_API_URL } from \"../constants\";\n\nAxios.interceptors.request.use(\n  config => {\n    const publicURLs = [\n      `${USER_API_URL}/login`,\n      `${USER_API_URL}/register`,\n      `${USER_API_URL}/info`\n    ];\n\n    if (publicURLs.some(url => url === config.url)) {\n      return config;\n    }\n\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\nexport const userGetInfoSuccess = payload => {\n  return {\n    type: \"USER_GET_INFO_SUCCESS\",\n    payload\n  };\n};\n\nexport const userGetInfoFailed = () => {\n  return {\n    type: \"USER_GET_INFO_FAILED\"\n  };\n};\n\nexport const userGetInfo = token => {\n  return dispatch => {\n    const apiUrl = `${USER_API_URL}/info`;\n    return Axios.post(apiUrl, { token })\n      .then(response => {\n        const { name, email } = response.data.user;\n        dispatch(userGetInfoSuccess({ name, email }));\n      })\n      .catch(error => {\n        console.log(\"Error getting user info: \", error);\n        dispatch(userGetInfoFailed());\n      });\n  };\n};\n\nexport const userLoginSuccess = token => {\n  localStorage.setItem(\"token\", token);\n  return dispatch => {\n    const userToken = token.split(\" \");\n    dispatch(userGetInfo(userToken[1]));\n  };\n};\n\nexport const userLoginFailed = payload => {\n  return {\n    type: \"USER_LOGIN_FAILED\",\n    payload\n  };\n};\n\nexport const userLogin = userInfo => {\n  return dispatch => {\n    const apiUrl = `${USER_API_URL}/login`;\n    return Axios.post(apiUrl, userInfo)\n      .then(response => {\n        dispatch(userLoginSuccess(response.data.token));\n      })\n      .catch(error => {\n        const errorMessage = error.response.data.errorMessage\n          ? error.response.data.errorMessage\n          : \"Ошибка получения данных с сервера\";\n        dispatch(userLoginFailed(errorMessage));\n      });\n  };\n};\n\nexport const userLoginResetError = () => {\n  return {\n    type: \"USER_LOGIN_RESET_ERROR\"\n  };\n};\n\nexport const userLogout = () => {\n  localStorage.removeItem(\"token\");\n  return {\n    type: \"USER_LOGOUT\"\n  };\n};\n","import React, { Component } from \"react\";\n\nconst ModalWrapper = WrappedModal => {\n  return class extends Component {\n    state = { visible: false };\n\n    showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    hideModal = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    render() {\n      const { visible } = this.state;\n      return (\n        <WrappedModal\n          visible={visible}\n          showModal={this.showModal}\n          hideModal={this.hideModal}\n          {...this.props}\n        />\n      );\n    }\n  };\n};\n\nexport default ModalWrapper;\n","export function handleChange(e) {\n  const target = e.target;\n  const value = target.value;\n  const name = target.name;\n  this.setState({\n    [name]: value\n  });\n}\n\nexport function validatePrice(...values) {\n  const status = values.some(value => {\n    return isNaN(value) || value < 0;\n  });\n  return !status;\n}\n\nexport function validateEmail(email) {\n  const regEx = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n  return regEx.test(String(email).toLowerCase());\n}\n","import React, { Component } from \"react\";\nimport { Modal, Form, Input, Icon, Button } from \"antd\";\n\nimport { ModalWrapper } from \"../hoc\";\nimport { handleChange } from \"../../utils\";\n\nclass CreateCategoryModal extends Component {\n  state = { category: \"\" };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { createCategory, hideModal } = this.props;\n    createCategory(this.state.category);\n    this.setState({ category: \"\" });\n    hideModal();\n  };\n\n  handleChange = e => handleChange.call(this, e);\n\n  render() {\n    const { visible, showModal, hideModal } = this.props;\n    const { handleSubmit, handleChange } = this;\n    const { category } = this.state;\n    return (\n      <>\n        <Button onClick={showModal}>\n          <Icon type=\"folder-add\" />\n          Добавить категорию\n        </Button>\n        <Modal\n          title=\"Добавить категорию\"\n          visible={visible}\n          onCancel={hideModal}\n          footer={[]}\n        >\n          <Form onSubmit={handleSubmit}>\n            <Form.Item>\n              <Input\n                name=\"category\"\n                prefix={<Icon type=\"unordered-list\" />}\n                placeholder=\"Категория\"\n                value={category}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: \"100%\" }}>\n              Создать\n            </Button>\n          </Form>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default ModalWrapper(CreateCategoryModal);\n","import React, { Component } from \"react\";\nimport { Modal, Form, Input, Icon, Button, notification } from \"antd\";\n\nimport { ModalWrapper } from \"../hoc\";\nimport { handleChange, validatePrice } from \"../../utils\";\n\nclass CreateProductModal extends Component {\n  initialState = {\n    categoryId: \"5d2309641c9d4400006c0d13\",\n    name: \"\",\n    rowPrice: \"\",\n    fullPrice: \"\"\n  };\n\n  state = this.initialState;\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { categoryId, name, rowPrice, fullPrice } = this.state;\n    if (!validatePrice(rowPrice, fullPrice)) {\n      notification.open({\n        message: \"Ошибка создания товара\",\n        description: \"Цена должна быть целым положительным числом\",\n        icon: <Icon type=\"exclamation-circle\" style={{ color: \"#CE0014\" }} />\n      });\n      return false;\n    }\n\n    const { createProduct, hideModal } = this.props;\n    const product = { categoryId, name, rowPrice, fullPrice };\n\n    createProduct(product);\n    this.setState(this.initialState);\n    hideModal();\n  };\n\n  handleChange = e => handleChange.call(this, e);\n\n  render() {\n    const { visible, showModal, hideModal, categories } = this.props;\n    const { categoryId, name, rowPrice, fullPrice } = this.state;\n    const { handleChange, handleSubmit } = this;\n\n    return (\n      <>\n        <Button\n          type=\"primary\"\n          onClick={showModal}\n          style={{ marginRight: \"10px\" }}\n        >\n          <Icon type=\"plus-circle\" />\n          Добавить товар\n        </Button>\n        <Modal\n          title=\"Добавить товар\"\n          visible={visible}\n          onCancel={hideModal}\n          footer={[]}\n        >\n          <Form onSubmit={handleSubmit}>\n            <Form.Item>\n              <select\n                name=\"categoryId\"\n                placeholder=\"Выберите категорию\"\n                value={categoryId}\n                onChange={handleChange}\n                required\n                style={{ width: \"100%\", lineHeight: \"32px\" }}\n              >\n                {categories.map(({ _id, title }) => (\n                  <option key={_id} value={_id}>\n                    {title}\n                  </option>\n                ))}\n              </select>\n            </Form.Item>\n            <Form.Item>\n              <Input\n                name=\"name\"\n                prefix={<Icon type=\"font-colors\" />}\n                placeholder=\"Название\"\n                value={name}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Form.Item>\n              <Input\n                name=\"rowPrice\"\n                prefix={<Icon type=\"dollar\" />}\n                placeholder=\"Закупочная цена\"\n                value={rowPrice}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Form.Item>\n              <Input\n                name=\"fullPrice\"\n                prefix={<Icon type=\"dollar\" />}\n                placeholder=\"Цена\"\n                value={fullPrice}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: \"100%\" }}>\n              Добавить\n            </Button>\n          </Form>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default ModalWrapper(CreateProductModal);\n","import React, { Component } from \"react\";\nimport { Modal, Form, Input, Icon, Button, notification } from \"antd\";\n\nimport { ModalWrapper } from \"../hoc\";\nimport { handleChange, validatePrice } from \"../../utils\";\n\nexport class EditProductModal extends Component {\n  state = {\n    categoryId: \"1\",\n    name: \"\",\n    rowPrice: \"\",\n    fullPrice: \"\"\n  };\n\n  updateState() {\n    const { products, productKey } = this.props;\n    const currentProduct = products.find(product => product._id === productKey);\n    const { categoryId, name, rowPrice, fullPrice } = currentProduct;\n    this.setState({\n      categoryId,\n      name,\n      rowPrice,\n      fullPrice\n    });\n  }\n\n  componentDidMount() {\n    this.updateState();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.updateState();\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { categoryId, name, rowPrice, fullPrice } = this.state;\n    if (!validatePrice(rowPrice, fullPrice)) {\n      notification.open({\n        message: \"Ошибка изменения товара\",\n        description: \"Цена должна быть целым положительным числом\",\n        icon: <Icon type=\"exclamation-circle\" style={{ color: \"#CE0014\" }} />\n      });\n      return false;\n    }\n    const { productKey: _id, editProduct, hideModal } = this.props;\n    const product = { _id, categoryId, name, rowPrice, fullPrice };\n    editProduct(product);\n    hideModal();\n  };\n\n  handleChange = e => handleChange.call(this, e);\n\n  render() {\n    const { visible, showModal, hideModal, categories } = this.props;\n    const { categoryId, name, rowPrice, fullPrice } = this.state;\n    const { handleChange, handleSubmit } = this;\n\n    return (\n      <>\n        <Button type=\"primary\" icon=\"edit\" onClick={showModal}>\n          Изменить\n        </Button>\n        <Modal\n          title=\"Изменить товар\"\n          visible={visible}\n          onCancel={hideModal}\n          footer={[]}\n        >\n          <Form onSubmit={handleSubmit}>\n            <Form.Item>\n              <select\n                name=\"categoryId\"\n                placeholder=\"Выберите категорию\"\n                defaultValue={categoryId}\n                onChange={handleChange}\n                required\n                style={{ width: \"100%\", lineHeight: \"32px\" }}\n              >\n                {categories.map(({ _id, title }) => (\n                  <option key={_id} value={_id}>\n                    {title}\n                  </option>\n                ))}\n              </select>\n            </Form.Item>\n            <Form.Item>\n              <Input\n                name=\"name\"\n                prefix={<Icon type=\"font-colors\" />}\n                placeholder=\"Название\"\n                value={name}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Form.Item>\n              <Input\n                name=\"rowPrice\"\n                prefix={<Icon type=\"dollar\" />}\n                placeholder=\"Закупочная цена\"\n                value={rowPrice}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Form.Item>\n              <Input\n                name=\"fullPrice\"\n                prefix={<Icon type=\"dollar\" />}\n                placeholder=\"Цена\"\n                value={fullPrice}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: \"100%\" }}>\n              Изменить\n            </Button>\n          </Form>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default ModalWrapper(EditProductModal);\n","import { connect } from \"react-redux\";\n\nimport { categoryAdd } from \"../../actions\";\n\nimport { CreateCategoryModal } from \"../../components/modals\";\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createCategory: category => dispatch(categoryAdd(category))\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(CreateCategoryModal);\n","import { connect } from \"react-redux\";\n\nimport { productAdd } from \"../../actions\";\n\nimport { CreateProductModal } from \"../../components/modals\";\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories.items\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createProduct: product => dispatch(productAdd(product))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CreateProductModal);\n","import { connect } from \"react-redux\";\n\nimport { productEdit } from \"../../actions\";\n\nimport { EditProductModal } from \"../../components/modals\";\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories.items,\n    products: state.products.items\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    editProduct: product => dispatch(productEdit(product))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EditProductModal);\n","import React, { Component } from \"react\";\n\nimport { Button, Popconfirm } from \"antd\";\n\nclass LogoutButton extends Component {\n  render() {\n    const { logout } = this.props;\n    return (\n      <Popconfirm\n        title=\"Вы уверены, что хотите выйти?\"\n        onConfirm={() => {\n          logout();\n        }}\n        onCancel={() => {\n          return false;\n        }}\n        okText=\"Да\"\n        cancelText=\"Нет\"\n      >\n        <Button\n          style={{ marginLeft: \"30px\" }}\n          type=\"danger\"\n          shape=\"round\"\n          icon=\"logout\"\n        >\n          Выйти\n        </Button>\n      </Popconfirm>\n    );\n  }\n}\n\nexport default LogoutButton;\n","import { connect } from \"react-redux\";\n\nimport { userLogout } from \"../../actions\";\n\nimport LogoutButton from \"../../components/logout-button\";\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(userLogout())\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(LogoutButton);\n","import React from \"react\";\n\nimport { Layout, Row, Col, Icon } from \"antd\";\nimport {\n  CreateCategoryModal,\n  CreateProductModal\n} from \"../../containers/modals\";\nimport LogoutButton from \"../../containers/logout-button\";\n\nimport \"./index.scss\";\n\nconst { Header } = Layout;\n\nconst StoreHeader = () => {\n  return (\n    <Header className=\"store-header\">\n      <Row gutter={16}>\n        <Col span={4} className=\"store-header__logo\">\n          <Icon type=\"fire\" theme=\"filled\" /> SuperStore\n        </Col>\n        <Col span={20} style={{ textAlign: \"right\" }}>\n          <CreateProductModal />\n          <CreateCategoryModal />\n          <LogoutButton />\n        </Col>\n      </Row>\n    </Header>\n  );\n};\n\nexport default StoreHeader;\n","import React from \"react\";\n\nimport \"./index.scss\";\n\nconst Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React, { Component } from \"react\";\nimport { Layout, Menu, Icon, Button, Popconfirm } from \"antd\";\n\nimport Spinner from \"../spinner\";\n\nimport \"./index.scss\";\n\nconst { Sider } = Layout;\n\nexport class Nav extends Component {\n  componentDidMount() {\n    this.props.loadCategories();\n  }\n\n  render() {\n    const {\n      deleteCategory,\n      filterProducts,\n      categories,\n      isLoading\n    } = this.props;\n\n    return (\n      <Sider width={200} className=\"nav\">\n        <Menu mode=\"inline\" defaultSelectedKeys={[\"-1\"]} className=\"nav__menu\">\n          {isLoading && <Spinner />}\n          {categories.map(({ _id, title }) => (\n            <Menu.Item key={_id} onClick={() => filterProducts(_id)}>\n              <Popconfirm\n                title=\"Вы уверены, что хотите удалить эту категорию?\"\n                onConfirm={() => {\n                  deleteCategory(_id);\n                }}\n                onCancel={() => {\n                  return false;\n                }}\n                okText=\"Да\"\n                cancelText=\"Нет\"\n              >\n                <Button type=\"danger\" className=\"nav__close-button\">\n                  <Icon type=\"close\" style={{ margin: \"0px\" }} />\n                </Button>\n              </Popconfirm>\n              {title}\n            </Menu.Item>\n          ))}\n          <Menu.Item key=\"0\" onClick={() => filterProducts(\"0\")}>\n            <Icon type=\"stop\" />\n            Без категории\n          </Menu.Item>\n          <Menu.Item key=\"-1\" onClick={() => filterProducts(\"ALL_CATEGORIES\")}>\n            <Icon type=\"appstore\" />\n            Все\n          </Menu.Item>\n        </Menu>\n      </Sider>\n    );\n  }\n}\n\nexport default Nav;\n","import { connect } from \"react-redux\";\n\nimport { fetchCategories, categoryDelete, fetchProducts } from \"../../actions\";\n\nimport Nav from \"../../components/nav\";\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories.items,\n    isLoading: state.categories.isLoading,\n    filteredProducts: state.products.filteredProducts\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteCategory: category => dispatch(categoryDelete(category)),\n    filterProducts: category =>\n      dispatch(fetchProducts({ categoryId: category, page: 1 })),\n    loadCategories: () => dispatch(fetchCategories())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Nav);\n","import React, { Component } from \"react\";\nimport { Radio } from \"antd\";\n\nimport \"./index.scss\";\n\nexport default class Pager extends Component {\n  handleChangePage = e => {\n    this.props.changePage(e.target.value);\n  };\n\n  render() {\n    const { pages, currentPage } = this.props;\n\n    if (pages === 1) {\n      return false;\n    }\n\n    const items = [];\n\n    if (currentPage > 1) {\n      items.push(\n        <Radio.Button key=\"0\" value={currentPage - 1}>\n          &lsaquo;\n        </Radio.Button>\n      );\n    }\n\n    for (let i = 1; i <= pages; i++) {\n      items.push(\n        <Radio.Button key={i} value={i}>\n          {i}\n        </Radio.Button>\n      );\n    }\n\n    if (currentPage < pages) {\n      items.push(\n        <Radio.Button key={pages + 1} value={currentPage + 1}>\n          &rsaquo;\n        </Radio.Button>\n      );\n    }\n\n    return (\n      <div className=\"pager\">\n        <Radio.Group value={currentPage} onChange={this.handleChangePage}>\n          {items}\n        </Radio.Group>\n      </div>\n    );\n  }\n}\n","import { connect } from \"react-redux\";\n\nimport { productsChangePage } from \"../../actions\";\n\nimport Pager from \"../../components/pager\";\n\nconst mapStateToProps = state => {\n  return {\n    pages: state.products.pages,\n    currentPage: state.products.currentPage\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changePage: page => dispatch(productsChangePage(page))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pager);\n","import React, { Component } from \"react\";\n\nimport { Table, Divider, Button, Popconfirm } from \"antd\";\n\nimport { EditProductModal } from \"../../containers/modals\";\nimport Pager from \"../../containers/pager\";\n\nconst { Column } = Table;\n\nclass ProductList extends Component {\n  componentDidMount() {\n    const { loadProducts, filteredProducts } = this.props;\n    loadProducts({ filteredProducts });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.props.currentPage !== prevProps.currentPage ||\n      this.props.items !== prevProps.items\n    ) {\n      const { currentPage: page, loadProducts, filteredProducts } = this.props;\n      loadProducts({ page, categoryId: filteredProducts });\n    }\n  }\n\n  render() {\n    const { products, isLoading, deleteProduct } = this.props;\n\n    return (\n      <>\n        <Table\n          dataSource={products}\n          loading={isLoading}\n          pagination={false}\n          rowKey={product => product._id}\n        >\n          <Column title=\"ID\" key=\"_id\" dataIndex=\"_id\" />\n          <Column title=\"Название товара\" key=\"name\" dataIndex=\"name\" />\n          <Column title=\"Цена закуп\" key=\"rowPrice\" dataIndex=\"rowPrice\" />\n          <Column title=\"Цена\" key=\"fullPrice\" dataIndex=\"fullPrice\" />\n          <Column\n            key=\"action\"\n            render={({ _id }) => (\n              <span>\n                <EditProductModal productKey={_id} />\n                <Divider type=\"vertical\" />\n                <Popconfirm\n                  title=\"Вы уверены, что хотите удалить этот товар?\"\n                  onConfirm={() => {\n                    deleteProduct(_id);\n                  }}\n                  onCancel={() => {\n                    return false;\n                  }}\n                  okText=\"Да\"\n                  cancelText=\"Нет\"\n                >\n                  <Button type=\"danger\" icon=\"delete\">\n                    Удалить\n                  </Button>\n                </Popconfirm>\n              </span>\n            )}\n          />\n        </Table>\n        {!isLoading && <Pager />}\n      </>\n    );\n  }\n}\n\nexport default ProductList;\n","import { connect } from \"react-redux\";\n\nimport { fetchProducts, productDelete } from \"../../actions\";\n\nimport ProductList from \"../../components/product-list\";\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products.items,\n    isLoading: state.products.isLoading,\n    currentPage: state.products.currentPage\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteProduct: product => dispatch(productDelete(product)),\n    loadProducts: payload => dispatch(fetchProducts(payload))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ProductList);\n","import React from \"react\";\n\nimport { Layout, Icon } from \"antd\";\n\nimport \"./index.scss\";\n\nconst { Footer } = Layout;\n\nconst StoreFooter = () => {\n  return (\n    <Footer className=\"footer\">\n      &copy; Copyright 2322 by Igor Leontev\n      <br />\n      <a\n        href=\"https://github.com/nzmi/test-store\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"footer__link\"\n      >\n        <Icon type=\"github\" /> GitHub\n      </a>\n    </Footer>\n  );\n};\n\nexport default StoreFooter;\n","import React from \"react\";\n\nimport { Layout } from \"antd\";\n\nimport StoreHeader from \"../store-header\";\nimport Nav from \"../../containers/nav\";\nimport ProductList from \"../../containers/product-list\";\nimport StoreFooter from \"../store-footer\";\n\nimport \"./index.scss\";\n\nconst { Content } = Layout;\n\nconst Store = () => {\n  return (\n    <>\n      <StoreHeader />\n      <Layout>\n        <Nav />\n        <Layout className=\"store\">\n          <Content className=\"store__content\">\n            <ProductList />\n          </Content>\n        </Layout>\n      </Layout>\n      <StoreFooter />\n    </>\n  );\n};\n\nexport default Store;\n","import React, { Component } from \"react\";\nimport { Form, Icon, Input, Button, notification } from \"antd\";\n\nimport { handleChange, validateEmail } from \"../../utils\";\n\nimport \"./index.scss\";\n\nclass Authorization extends Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      const { loginError, resetLoginError } = this.props;\n      if (loginError) {\n        notification.open({\n          message: \"Ошибка входа\",\n          description: loginError,\n          icon: <Icon type=\"exclamation-circle\" style={{ color: \"#CE0014\" }} />\n        });\n        resetLoginError();\n      }\n    }\n  }\n\n  handleChange = e => handleChange.call(this, e);\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    const { login } = this.props;\n\n    if (!validateEmail(email)) {\n      notification.open({\n        message: \"Ошибка входа\",\n        description: \"Email должен быть в формате mail@domain.ru\",\n        icon: <Icon type=\"exclamation-circle\" style={{ color: \"#CE0014\" }} />\n      });\n      return false;\n    }\n\n    login({ email, password });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    const { handleSubmit, handleChange } = this;\n\n    return (\n      <>\n        <div className=\"authorization\">\n          <Form onSubmit={handleSubmit} className=\"authorization__form\">\n            <h2 className=\"authorization__header\">Вход</h2>\n            <Form.Item>\n              <Input\n                name=\"email\"\n                prefix={<Icon type=\"mail\" />}\n                placeholder=\"Электронная почта (admin@teststore.com)\"\n                value={email}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Form.Item>\n              <Input.Password\n                name=\"password\"\n                prefix={<Icon type=\"lock\" />}\n                placeholder=\"Пароль (admin)\"\n                value={password}\n                onChange={handleChange}\n                required\n              />\n            </Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: \"100%\" }}>\n              Войти\n            </Button>\n            <p className=\"authorization__copyright\">\n              © Copyright 2322 by Igor Leontev\n              <br />\n              <a\n                href=\"https://github.com/nzmi/test-store\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"authorization__githubLink\"\n              >\n                <Icon type=\"github\" /> GitHub\n              </a>\n            </p>\n          </Form>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Authorization;\n","import { connect } from \"react-redux\";\n\nimport { userLogin, userLoginResetError } from \"../../actions\";\n\nimport Authorization from \"../../components/authorization\";\n\nconst mapStateToProps = state => {\n  return {\n    loginError: state.users.loginError\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: userInfo => dispatch(userLogin(userInfo)),\n    resetLoginError: () => dispatch(userLoginResetError())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Authorization);\n","import React from \"react\";\n\nimport \"./index.scss\";\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error-indicator\">\n      <img\n        src=\"https://media.giphy.com/media/TqiwHbFBaZ4ti/giphy.gif\"\n        alt=\"Ошибка!\"\n        className=\"error-indicator__image\"\n      />\n      <h2>Ошибка загрузки данных</h2>\n      <p>Попробуйте зайти позже</p>\n    </div>\n  );\n};\n\nexport default ErrorIndicator;\n","import React, { Component } from \"react\";\n\nimport \"antd/dist/antd.css\";\n\nimport Store from \"../store\";\nimport Authorization from \"../../containers/authorization\";\nimport Spinner from \"../spinner\";\nimport ErrorIndicator from \"../error-indicator\";\n\nclass App extends Component {\n  state = {\n    isLoading: true\n  };\n\n  componentDidMount() {\n    let token = localStorage.getItem(\"token\");\n    const { getUser } = this.props;\n    if (token) {\n      token = token.split(\" \");\n      getUser(token[1]).then(() => {\n        this.setState({\n          isLoading: false\n        });\n      });\n    } else {\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  render() {\n    const { isLoggedIn, serverAvailable } = this.props;\n    const { isLoading } = this.state;\n\n    let Content = <ErrorIndicator />;\n\n    if (serverAvailable) {\n      Content = isLoggedIn ? <Store /> : <Authorization />;\n    }\n\n    return <div className=\"app\">{isLoading ? <Spinner /> : Content}</div>;\n  }\n}\n\nexport default App;\n","import { connect } from \"react-redux\";\n\nimport { userGetInfo } from \"../../actions\";\n\nimport App from \"../../components/app\";\n\nconst mapStateToProps = state => {\n  return {\n    isLoggedIn: state.users.isLoggedIn,\n    serverAvailable: state.users.serverAvailable\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getUser: token => dispatch(userGetInfo(token))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ErrorIndicator from \"../error-indicator\";\n\nexport default class ErrorBoundary extends Component {\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}\n","const initialState = {\n  items: [],\n  isLoading: false,\n  pages: 1,\n  currentPage: 1,\n  filteredProducts: \"ALL_CATEGORIES\"\n};\n\nconst products = (state = initialState, action) => {\n  switch (action.type) {\n    case \"PRODUCTS_REQUESTED\": {\n      return {\n        ...state,\n        isLoading: true\n      };\n    }\n    case \"PRODUCTS_RECEIVED\": {\n      const { products, pages, filteredProducts, page } = action.payload;\n      return {\n        ...state,\n        items: products,\n        currentPage: page,\n        pages,\n        filteredProducts,\n        isLoading: false\n      };\n    }\n    case \"PRODUCTS_RESET_CATEGORY\": {\n      return {\n        ...state,\n        filteredProducts: \"0\"\n      };\n    }\n    case \"PRODUCTS_CHANGE_PAGE\": {\n      return {\n        ...state,\n        currentPage: action.payload\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default products;\n","const initialState = {\n  items: [],\n  isLoading: false\n};\n\nconst categories = (state = initialState, action) => {\n  switch (action.type) {\n    case \"CATEGORIES_REQUESTED\": {\n      return {\n        ...state,\n        isLoading: true\n      };\n    }\n\n    case \"CATEGORIES_RECEIVED\": {\n      const items = action.payload.map(({ title, _id }) => ({\n        title,\n        _id,\n        active: false\n      }));\n      return {\n        items,\n        isLoading: false\n      };\n    }\n\n    case \"CATEGORY_ADD_SUCCESS\": {\n      return {\n        ...state,\n        items: action.payload\n      };\n    }\n\n    case \"CATEGORY_DELETE_SUCCESS\": {\n      return {\n        ...state,\n        items: action.payload\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default categories;\n","const initialState = {\n  loginError: false,\n  isLoggedIn: null,\n  serverAvailable: true\n};\n\nconst users = (state = initialState, action) => {\n  switch (action.type) {\n    case \"USER_GET_INFO_SUCCESS\": {\n      return {\n        ...state,\n        isLoggedIn: true\n      };\n    }\n    case \"USER_GET_INFO_FAILED\": {\n      return {\n        ...state,\n        serverAvailable: false\n      };\n    }\n    case \"USER_LOGIN_FAILED\": {\n      return {\n        ...state,\n        loginError: action.payload\n      };\n    }\n    case \"USER_LOGIN_RESET_ERROR\": {\n      return {\n        ...state,\n        loginError: false\n      };\n    }\n    case \"USER_LOGOUT\": {\n      return {\n        ...state,\n        isLoggedIn: false\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default users;\n","import { combineReducers } from \"redux\";\n\nimport products from \"./products\";\nimport categories from \"./categories\";\nimport users from \"./users\";\n\nexport default combineReducers({\n  products,\n  categories,\n  users\n});\n","import { applyMiddleware, createStore } from \"redux\";\nimport { createLogger } from \"redux-logger\";\nimport thunk from \"redux-thunk\";\n\nimport reducer from \"./reducers\";\n\nconst logger = createLogger({\n  level: \"log\"\n});\n\nconst store = createStore(reducer, applyMiddleware(thunk, logger));\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.scss\";\nimport App from \"./containers/app/\";\nimport * as serviceWorker from \"./services/service-worker/serviceWorker\";\n\nimport ErrorBoundary from \"./components/error-boundary\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <App />\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}